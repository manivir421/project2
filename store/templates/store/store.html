/*<!---
#comp 3450 <Ashima,ripan>--> */
  {% extends 'store/main.html' %}
  {% load static %}
  
  {% block content %}
  <style>
    body {
    background-color: #ffffff !important; /* White background or your desired color */
}
  </style>
  <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #ae6fca;">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="{% url 'help' %}">Help Center</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="{% url 'return.html' %}">Return</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'exchange' %}">Exchange</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'transaction_history' %}">Transaction History</a>
          </li>
          
          
        </ul>
        <!-- notification_bar.html -->
<div id="notification-bar" class="notification-bar">
  <div id="notification-message" class="notification-message"></div>
</div>

      </div>
    </div>
  </nav>
  

  <body class="bg-light">
    <div class="container text-center">
      
      
        
        
      </div>
   
  </body>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>

  <div class="row">
    {% for product in products %}
    <div class="col-lg-4">
      <a href="{{product.get_absolute_url}}"><img class="thumbnail" src="{{product.imageURL}}"></a>
      <div class="box-element product">
        <a style="text-decoration: none;" href="{{product.get_absolute_url}}"><h6><strong>{{product.title}}</strong></h6></a>
        <hr>
        {% if product.quantity <= 0 %}
    <h5 >Out of stock</h5>
    {% if user.is_authenticated %}
        <button style="margin-left: 124px;" data-product="{{ product.id }}" data-action="subscribe" class="btn btn-outline-secondary subscribe-btn">Subscribe to Notifications</button>
   <br><br> {% endif %}
{% else %}

    <button style="background-color: #305bab;" data-product="{{ product.id }}" data-action="add" class="btn btn-outline-secondary add-btn update-cart">Add to Cart</button>
    <a class="btn btn-outline-success" href="{{ product.get_absolute_url }}" style="background-color: white; color: #305bab;">View</a>

    <h4 style="float: right">&#36; {{ product.price }}</h4>
{% endif %}
        
      </div>
    </div>
    {% endfor %}
  </div>
  <script src="https://threejs.org/build/three.js"></script>
  <script >
    // Mock data for initial threads
const discussionThreads = [
    { author: "John Doe", content: "You can share anything!" },
    { author: "Alice", content: "Wow , its such a nice feature!" },
];

// Function to display posts on the page
function displayPosts() {
    const discussionContainer = document.getElementById("discussion-container");
    discussionContainer.innerHTML = ""; // Clear previous content

    discussionThreads.forEach((thread, index) => {
        const postElement = document.createElement("div");
        postElement.className = "post";
        postElement.innerHTML = `<strong style="color: white;">${thread.author}:</strong> <span style="color: white;">${thread.content}</span>`;
        discussionContainer.appendChild(postElement);
    });
}

// Function to add a new post
function addNewPost() {
    const authorInput = document.getElementById("post-author");
    const contentInput = document.getElementById("post-content");

    const newPost = {
        author: authorInput.value,
        content: contentInput.value,
    };

    discussionThreads.push(newPost);
    displayPosts();

    // Clear input fields
    authorInput.value = "";
    contentInput.value = "";
}

// Initial display of posts
displayPosts();

</script>
{% endblock %}
